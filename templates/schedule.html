{% extends "base.html" %}
{% block title %}My Schedule - BunkGuard{% endblock %}

{% block content %}
<div class="page-header">
    <div class="header-text">
        <h1>Class Schedule</h1>
        <p>Click on a slot to assign a subject, break, or holiday.</p>
    </div>
    <div class="page-actions">
        <button id="addRowBtn" class="control-btn icon-btn" title="Add Row"><i class='bx bx-plus'></i></button>
        <button id="removeRowBtn" class="control-btn icon-btn btn-danger" title="Remove Last Row"><i class='bx bx-minus'></i></button>
        <button id="saveScheduleBtn" class="create-new-btn"><i class='bx bx-save'></i> Save Schedule</button>
    </div>
</div>

<div class="schedule-container widget">
    <div id="scheduleTableWrapper" class="table-wrapper">
        <table id="scheduleTable">
            <thead>
                <tr class="main-header-row">
                    <th>Time</th>
                    <th><div>Monday <button class="holiday-btn" data-day="Monday" title="Mark Monday as Holiday">H</button></div></th>
                    <th><div>Tuesday <button class="holiday-btn" data-day="Tuesday" title="Mark Tuesday as Holiday">H</button></div></th>
                    <th><div>Wednesday <button class="holiday-btn" data-day="Wednesday" title="Mark Wednesday as Holiday">H</button></div></th>
                    <th><div>Thursday <button class="holiday-btn" data-day="Thursday" title="Mark Thursday as Holiday">H</button></div></th>
                    <th><div>Friday <button class="holiday-btn" data-day="Friday" title="Mark Friday as Holiday">H</button></div></th>
                    <th><div>Saturday <button class="holiday-btn" data-day="Saturday" title="Mark Saturday as Holiday">H</button></div></th>
                    <th><div>Sunday <button class="holiday-btn" data-day="Sunday" title="Mark Sunday as Holiday">H</button></div></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<div id="subjectModal" class="modal-overlay hidden">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Select Slot Type</h2>
            <button id="closeSubjectModalBtn" class="close-btn">&times;</button>
        </div>
        <div class="slot-actions compact">
            <button id="markAsBreakBtn" class="control-btn"><i class='bx bx-coffee'></i> Break</button>
            <button id="markAsFreeBtn" class="control-btn"><i class='bx bx-wind'></i> Free</button>
            <button id="clearSlotBtn" class="control-btn btn-danger"><i class='bx bx-x'></i> Clear</button>
        </div>
        <hr class="modal-divider">
        <h3 class="modal-subtitle">Assign Subject</h3>
        <div id="subjectList" class="subject-grid">
            </div>
    </div>
</div>
{% endblock %}

{% block body_scripts %}
<script src="{{ url_for('static', filename='schedule.js', v=cache_id) }}"></script>
{% endblock %}